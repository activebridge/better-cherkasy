'use strict';

betterCherkasy.config([
  '$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {
    $routeProvider
      .when('/', {
        templateUrl: '<%= asset_path('events/index.html') %>',
        controller: 'EventsCtrl'
      })
      .when('/events/new', {
        templateUrl: '<%= asset_path('events/new.html') %>',
        controller: 'NewEventCtrl'
      })
      .when('/events/mine', {
        templateUrl: '<%= asset_path('events/index.html') %>',
        controller: 'MyEventsCtrl'
      })
      .when('/events/:id', {
        templateUrl: '<%= asset_path('events/show.html') %>',
        controller: 'ShowEventCtrl'
      })
      .otherwise({ redirectTo: '/' });
  }
]).config(["$httpProvider", function($httpProvider) {
    $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content')
  }
])

